import{_ as D,u as G,a as M,r as p,b as h,o as c,c as k,d as s,w as t,T as y,e,f as o,F as U,g as b,h as v,t as x,i as g,j as i,E as _,k as K,v as j,n as z,p as q,l as H}from"./index-e8cd63f0.js";import{u as J}from"./useFormActions-f7eee9a9.js";const a=l=>(q("data-v-6c45ea02"),l=l(),H(),l),O={class:"fullscreen"},P={class:"fullscreen__body"},Q={class:"fullscreen__content"},W={class:"fullscreen__form-body"},X=a(()=>e("div",{class:"action-form__title"},"Регистрация",-1)),Y={class:"action-form__elements"},Z={class:"action-form__element"},$={class:"action-form__input-body"},oo=a(()=>e("div",{class:"action-form__placeholder"},"ФИО",-1)),eo={class:"action-form__element"},so={class:"action-form__input-body"},to=a(()=>e("div",{class:"action-form__placeholder"},"Email",-1)),ao={class:"action-form__element"},no={class:"action-form__input-body"},co=a(()=>e("div",{class:"action-form__placeholder"},"Номер телефона",-1)),io={class:"action-form__element"},_o={class:"action-form__element"},lo={class:"action-form__input-body"},ro=a(()=>e("div",{class:"action-form__placeholder"},"Пароль",-1)),mo={class:"action-form__element"},uo={class:"action-form__input-body"},fo=a(()=>e("div",{class:"action-form__placeholder"},"Повторите пароль",-1)),po={class:"action-form__element"},ho={key:0,class:"action-form__login-btn"},vo={__name:"RegisterView",setup(l){const{registerSchema:C}=G(),{isInvalidFormSubmit:R,toggleBlur:r,toggleFocus:d,invalidSubmit:I,phoneControl:L}=J(),n=M(),m=p(!1),S=p(!1),w=p(["Москва","СПБ","Донецк","Ростов"]),F=p(w.value[0]),A=u=>{F.value=u},E=async(u,{resetForm:B})=>{m.value=!0;let f={...u,city:F.value};await n.registerUser(f)&&(B(),S.value=!0),m.value=!1};return(u,B)=>{const f=h("VAlert"),N=h("VCustomSelect"),T=h("LoadingGif"),V=h("RouterLink");return c(),k("div",O,[s(y,{name:"message"},{default:t(()=>[o(n).isSuccessMessageShown?(c(),b(f,{key:0,position:"fixed",type:"success"},{default:t(()=>[v(x(o(n).message),1)]),_:1})):g("",!0)]),_:1}),s(y,{name:"message"},{default:t(()=>[o(n).isErrorMessageShown?(c(),b(f,{key:0,position:"fixed",type:"error"},{default:t(()=>[v(x(o(n).message),1)]),_:1})):g("",!0)]),_:1}),e("div",P,[e("div",Q,[e("div",W,[s(o(U),{onSubmit:E,onInvalidSubmit:o(I),class:"fullscreen__form action-form","validation-schema":o(C)},{default:t(()=>[X,e("div",Y,[e("div",Z,[e("div",$,[oo,s(o(i),{class:"action-form__input",type:"text",name:"name",onFocus:o(d),onBlur:o(r)},null,8,["onFocus","onBlur"])]),s(o(_),{class:"action-form__error-msg",name:"name"})]),e("div",eo,[e("div",so,[to,s(o(i),{class:"action-form__input",name:"email",type:"text",onFocus:o(d),onBlur:o(r)},null,8,["onFocus","onBlur"])]),s(o(_),{class:"action-form__error-msg",name:"email"})]),e("div",ao,[e("div",no,[co,s(o(i),{class:"action-form__input",name:"phone",type:"text",placeholder:"+7949 381 39 82",onFocus:o(d),onKeydown:o(L),onBlur:o(r)},null,8,["onFocus","onKeydown","onBlur"])]),s(o(_),{class:"action-form__error-msg",name:"phone"})]),e("div",io,[s(N,{"background-color":"#f8f1ff","default-title":"Ваш город",onUpdateValue:A,options:w.value},null,8,["options"])]),e("div",_o,[e("div",lo,[ro,s(o(i),{class:"action-form__input",name:"password",onFocus:o(d),onBlur:o(r),type:"password"},null,8,["onFocus","onBlur"])]),s(o(_),{class:"action-form__error-msg",name:"password"})]),e("div",mo,[e("div",uo,[fo,s(o(i),{class:"action-form__input",name:"passwordRepeat",type:"password"})]),s(o(_),{class:"action-form__error-msg",name:"passwordRepeat"})]),e("div",po,[K(e("button",{class:z(["action-form__btn",{err:o(R)}]),type:"submit"}," Регистрация ",2),[[j,!m.value]])]),m.value?(c(),b(T,{key:0})):g("",!0)])]),_:1},8,["onInvalidSubmit","validation-schema"]),s(y,{name:"login-btn"},{default:t(()=>[S.value?(c(),k("div",ho,[s(V,{to:"/login",class:"action-form__btn"},{default:t(()=>[v("Перейти к авторизации")]),_:1})])):g("",!0)]),_:1})]),s(V,{class:"home-button",to:"/"},{default:t(()=>[v("На главную")]),_:1})])])])}}},bo=D(vo,[["__scopeId","data-v-6c45ea02"]]);export{bo as default};
